# ABK LLM Frontend

ABK不動産データ分析システムのフロントエンドアプリケーション

## 最終デプロイ
- 2025年7月18日 - プラットフォームをWEBに変更して再デプロイ

## 概要

このアプリケーションは、不動産関連のデータ（顧客情報、物件反応履歴、Webアクセスログなど）を自然言語で問い合わせることができるチャットインターフェースを提供します。

## 主な機能

- 自然言語でのデータ問い合わせ
- SQLクエリの自動生成と実行
- データビジュアライゼーション（グラフ生成）
- セッション管理による会話の継続性
- レスポンシブデザイン

## 技術スタック

- Next.js 15.1.5
- React 19
- TypeScript
- Tailwind CSS
- n8n (バックエンド統合)

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. 環境変数の設定

`.env.local.example`をコピーして`.env.local`を作成し、必要な値を設定してください：

```bash
cp .env.local.example .env.local
```

環境変数：
- `NEXT_PUBLIC_N8N_WEBHOOK_URL`: n8nのWebhook URL

### 3. 開発サーバーの起動

```bash
npm run dev
```

ブラウザで http://localhost:3000 を開いてください。

## 使用可能なテーブル

- `aas_m_customer_llm`: AAS会員の顧客属性情報
- `m_customer_llm`: システム間の顧客IDマッピング
- `k_m_customer_llm`: 基幹システムの顧客情報（家族構成など）
- `k_log_cv_llm`: 物件への反応履歴（資料請求、見学、成約など）
- `weblog_llm`: Webサイトアクセスログ

## サンプルクエリ

- 都道府県別の顧客数を教えて
- 香川県の顧客情報を表示して
- 最近のモデルルーム来場者数は？
- 成約までの平均期間を知りたい

## ビルドとデプロイ

### プロダクションビルド

```bash
npm run build
```

### プロダクション起動

```bash
npm start
```

## 注意事項

- n8nワークフローが正しく設定されている必要があります
- Redshiftへの接続が必要です（VPN経由）
- CORS設定に注意してください 